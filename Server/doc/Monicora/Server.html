<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="fr">
<head>
<!-- Generated by javadoc (1.8.0_171) on Tue Sep 04 15:33:30 CEST 2018 -->
<title>Server</title>
<meta name="date" content="2018-09-04">
<link rel="stylesheet" type="text/css" href="../stylesheet.css" title="Style">
<script type="text/javascript" src="../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Server";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":9,"i3":9,"i4":9,"i5":9,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../Monicora/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Server.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../Monicora/ProtocolServerServerSide.html" title="class in Monicora"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../Monicora/ServerConnection.html" title="class in Monicora"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../index.html?Monicora/Server.html" target="_top">Frames</a></li>
<li><a href="Server.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">Monicora</div>
<h2 title="Class Server" class="title">Class Server</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>Monicora.Server</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">Server</span>
extends java.lang.Object</pre>
<div class="block">This class is used to create an manage a server for the MonicOra app. 
 
 Only one instance of a MonicOra server is available. Here is a quick guide to use the server :
 1) Use the <b>createServer()</b> method to instantiate a singleton server. It can then be retrieved by using <b>getServerInstance</b>
 2) Use the <b>openServer()</b> to open the server. The server will now listen to new connection.
 3) Use the <b>registerListener()</b> method to register ServerListener so that you can handle event received.
 4) Use each <b>send...</b> method to send any type of message. View the description in this JavaDoc. Note that request send or received by one connection are queued, meaning sending 1 large file will "block" other request that goes in the same direction.
 5) Stop the server using close().
 
 Note = Ensure the config file is configured and private key is avalaible.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../Monicora/Server.html#close--">close</a></span>()</code>
<div class="block">Close the server and try to alert all connection still alive.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../Monicora/Server.html#close-int-">close</a></span>(int&nbsp;id)</code>
<div class="block">Close the connection indexed by id in the connections arraylist.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>static <a href="../Monicora/Server.html" title="class in Monicora">Server</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../Monicora/Server.html#createServer--">createServer</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>static <a href="../Monicora/Server.html" title="class in Monicora">Server</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../Monicora/Server.html#createServer-java.lang.String-int-">createServer</a></span>(java.lang.String&nbsp;pHost,
            int&nbsp;pPort)</code>
<div class="block">Create the a new server on the pPort and using the pHost adress.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>static java.util.List&lt;<a href="../Monicora/ServerConnection.html" title="class in Monicora">ServerConnection</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../Monicora/Server.html#getConnectedDevices--">getConnectedDevices</a></span>()</code>
<div class="block">Return an unmodifiable list of ServerConnection.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>static <a href="../Monicora/Server.html" title="class in Monicora">Server</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../Monicora/Server.html#getServerInstance--">getServerInstance</a></span>()</code>
<div class="block">Return the unique instance of server used.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../Monicora/Server.html#open--">open</a></span>()</code>
<div class="block">Open the server using the port and host after 
  the <b>createServer()</b> method.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../Monicora/Server.html#registerListener-Monicora.ServerListener-">registerListener</a></span>(<a href="../Monicora/ServerListener.html" title="interface in Monicora">ServerListener</a>&nbsp;listener)</code>
<div class="block">Register a listener to listen to new event on the server.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../Monicora/Server.html#startAutoRequest-int-">startAutoRequest</a></span>(int&nbsp;updateInterval)</code>
<div class="block">Start requesting position for all connected devices.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../Monicora/Server.html#stopAutoRequest--">stopAutoRequest</a></span>()</code>
<div class="block">Stop the autorequest.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../Monicora/Server.html#unregisterListener-Monicora.ServerListener-">unregisterListener</a></span>(<a href="../Monicora/ServerListener.html" title="interface in Monicora">ServerListener</a>&nbsp;listener)</code>
<div class="block">Unregister the given listener on the server.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="createServer-java.lang.String-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createServer</h4>
<pre>public static&nbsp;<a href="../Monicora/Server.html" title="class in Monicora">Server</a>&nbsp;createServer(java.lang.String&nbsp;pHost,
                                  int&nbsp;pPort)
                           throws java.net.UnknownHostException,
                                  java.io.IOException</pre>
<div class="block">Create the a new server on the pPort and using the pHost adress. Invoking this method closes and replace the existing instance if it exists.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>pHost</code> - The host adress to use for the server</dd>
<dd><code>pPort</code> - The port to bind the server</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
<dd><code>java.net.UnknownHostException</code></dd>
</dl>
</li>
</ul>
<a name="createServer--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createServer</h4>
<pre>public static&nbsp;<a href="../Monicora/Server.html" title="class in Monicora">Server</a>&nbsp;createServer()
                           throws java.net.UnknownHostException,
                                  java.io.IOException</pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.net.UnknownHostException</code></dd>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a name="getServerInstance--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getServerInstance</h4>
<pre>public static&nbsp;<a href="../Monicora/Server.html" title="class in Monicora">Server</a>&nbsp;getServerInstance()</pre>
<div class="block">Return the unique instance of server used. The instance must be created first using the <b> createServer() </b> method first, else return null.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The unique instance of MonicOra server.</dd>
</dl>
</li>
</ul>
<a name="open--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>open</h4>
<pre>public&nbsp;void&nbsp;open()</pre>
<div class="block">Open the server using the port and host after 
  the <b>createServer()</b> method. Each new connection is accessible through a ServerConnection object contained in an unmodifiable ArrayList, connections.
 Each new incoming connection will then be placed in another thread.</div>
</li>
</ul>
<a name="close--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;close()</pre>
<div class="block">Close the server and try to alert all connection still alive. Using this method will set the instance of server to null</div>
</li>
</ul>
<a name="getConnectedDevices--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getConnectedDevices</h4>
<pre>public static&nbsp;java.util.List&lt;<a href="../Monicora/ServerConnection.html" title="class in Monicora">ServerConnection</a>&gt;&nbsp;getConnectedDevices()</pre>
<div class="block">Return an unmodifiable list of ServerConnection. It is possible to invoke methods directly on a ServerConnection object instead of using Server's method.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>An unmodifiable array list containing ServerConnection object.</dd>
</dl>
</li>
</ul>
<a name="close-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;close(int&nbsp;id)</pre>
<div class="block">Close the connection indexed by id in the connections arraylist.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - </dd>
</dl>
</li>
</ul>
<a name="registerListener-Monicora.ServerListener-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>registerListener</h4>
<pre>public&nbsp;void&nbsp;registerListener(<a href="../Monicora/ServerListener.html" title="interface in Monicora">ServerListener</a>&nbsp;listener)</pre>
<div class="block">Register a listener to listen to new event on the server.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>listener</code> - </dd>
</dl>
</li>
</ul>
<a name="unregisterListener-Monicora.ServerListener-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unregisterListener</h4>
<pre>public&nbsp;void&nbsp;unregisterListener(<a href="../Monicora/ServerListener.html" title="interface in Monicora">ServerListener</a>&nbsp;listener)</pre>
<div class="block">Unregister the given listener on the server.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>listener</code> - </dd>
</dl>
</li>
</ul>
<a name="startAutoRequest-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>startAutoRequest</h4>
<pre>public&nbsp;void&nbsp;startAutoRequest(int&nbsp;updateInterval)</pre>
<div class="block">Start requesting position for all connected devices. The thread write in the locationHistory.csv file in the the same path of MonicaServerRes directory.
 If auto request is already set, then the interval is overriden and if the request does one more loop before ending.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>updateInterval</code> - The interval in milliseconds between each request.</dd>
</dl>
</li>
</ul>
<a name="stopAutoRequest--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>stopAutoRequest</h4>
<pre>public&nbsp;void&nbsp;stopAutoRequest()</pre>
<div class="block">Stop the autorequest. If no request was launched, do nothing.</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../Monicora/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Server.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../Monicora/ProtocolServerServerSide.html" title="class in Monicora"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../Monicora/ServerConnection.html" title="class in Monicora"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../index.html?Monicora/Server.html" target="_top">Frames</a></li>
<li><a href="Server.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
